<!DOCTYPE html>
<html lang="zh-Hant" class=""> <head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>æ¼”å”±æœƒæ­Œå–®ç”Ÿæˆå™¨ (å„ªåŒ–ç‰ˆ)</title>
Â Â 
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â Â 
Â  Â  <link rel="preconnect" href="https://fonts.googleapis.com">
Â  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
Â  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
Â Â 
Â  Â  <script src="https://unpkg.com/lucide@latest" defer></script>

Â  Â  <style type="text/tailwindcss">
Â  Â  @layer base {
Â  Â  Â  body {
Â  Â  Â  Â  /* å°‡å­—é«”å¥—ç”¨åˆ°æ‰€æœ‰å…ƒç´  */
Â  Â  Â  Â  font-family: 'Inter', 'Noto Sans TC', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
Â  Â  Â  }
Â  Â  }
Â  Â  /* è‡ªè¨‚æ²è»¸ (ç¾åŒ–) */
Â  Â  ::-webkit-scrollbar {
Â  Â  Â  width: 6px;
Â  Â  Â  height: 6px;
Â  Â  }
Â  Â  ::-webkit-scrollbar-track {
Â  Â  Â  background: transparent;
Â  Â  }
Â  Â  ::-webkit-scrollbar-thumb {
Â  Â  Â  background: #a3a3a3; /* light-gray-400 */
Â  Â  Â  border-radius: 3px;
Â  Â  }
Â  Â  .dark ::-webkit-scrollbar-thumb {
Â  Â  Â  background: #525252; /* dark-gray-600 */
Â  Â  }
Â  Â  ::-webkit-scrollbar-thumb:hover {
Â  Â  Â  background: #737373; /* light-gray-500 */
Â  Â  }
Â  Â  .dark ::-webkit-scrollbar-thumb:hover {
Â  Â  Â  background: #737373; /* dark-gray-500 */
Â  Â  }
Â  </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen p-4 md:p-8 transition-colors duration-300">

Â  Â  <div class="container max-w-6xl mx-auto bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-2xl overflow-hidden">
Â  Â Â 
Â  Â  Â  Â  <div class="header relative flex justify-between items-center bg-gradient-to-r from-purple-600 to-indigo-700 p-6 md:p-8 text-white shadow-lg">
Â  Â  Â  <div class="flex items-center gap-3">
Â  Â  Â  Â  <i data-lucide="music" class="w-8 h-8"></i>
Â  Â  Â  Â  <h1 class="text-2xl md:text-3xl font-bold">æ¼”å”±æœƒæ­Œå–®ç”Ÿæˆå™¨</h1>
Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <button id="darkModeToggle" class="p-2 rounded-full hover:bg-white/20 transition-colors">
Â  Â  Â  Â  <i data-lucide="sun" class="w-6 h-6 block dark:hidden"></i>
Â  Â  Â  Â  <i data-lucide="moon" class="w-6 h-6 hidden dark:block"></i>
Â  Â  Â  </button>
Â  Â  </div>
Â  Â Â 
Â  Â  Â  Â  <div class="content p-6 md:p-8 grid md:grid-cols-2 gap-8">
Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="input-section flex flex-col gap-6">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-gray-50 dark:bg-gray-700/50 p-5 rounded-xl border border-gray-200 dark:border-gray-700">
Â  Â  Â  Â  Â  <h2 class="text-xl font-semibold mb-4 flex items-center gap-2">
Â  Â  Â  Â  Â  Â  <i data-lucide="info" class="w-5 h-5 text-indigo-500"></i>
Â  Â  Â  Â  Â  Â  åŸºæœ¬è³‡è¨Š
Â  Â  Â  Â  Â  </h2>
Â  Â  Â  Â  Â  <div class="form-grid grid grid-cols-1 sm:grid-cols-2 gap-4">
Â  Â  Â  Â  Â  Â  <div class="input-group">
Â  Â  Â  Â  Â  Â  Â  <label for="eventDateInput" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5">æ¼”å‡ºæ—¥æœŸ</label>
Â  Â  Â  Â  Â  Â  Â  <input type="text" id="eventDateInput" value="250706" placeholder="ä¾‹å¦‚: 250706" class="w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="input-group">
Â  Â  Â  Â  Â  Â  Â  <label for="artistNameInput" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5">æ­Œæ‰‹åç¨±</label>
Â  Â  Â  Â  Â  Â  Â  <input type="text" id="artistNameInput" value="HUR+" placeholder="ä¾‹å¦‚: HUR+" class="w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="input-group sm:col-span-2">
Â  Â  Â  Â  Â  Â  Â  <label for="eventNameInput" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5">æ¼”å‡ºæ´»å‹•åç¨±</label>
Â  Â  Â  Â  Â  Â  Â  <input type="text" id="eventNameInput" value="2025 è·¨å¹´æ¼”å”±æœƒ" placeholder="ä¾‹å¦‚: 2025 è·¨å¹´æ¼”å”±æœƒ" class="w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-gray-50 dark:bg-gray-700/50 p-5 rounded-xl border border-gray-200 dark:border-gray-700 flex-1 flex flex-col">
Â  Â  Â  Â  Â  <h2 class="text-xl font-semibold mb-4 flex items-center gap-2">
Â  Â  Â  Â  Â  Â  <i data-lucide="list-music" class="w-5 h-5 text-indigo-500"></i>
Â  Â  Â  Â  Â  Â  æ­Œå–®å…§å®¹
Â  Â  Â  Â  Â  </h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="instructions bg-blue-50 dark:bg-blue-900/50 border border-blue-200 dark:border-blue-700 text-blue-800 dark:text-blue-200 p-3 rounded-lg text-sm mb-4">
Â  Â  Â  Â  Â  Â  æ”¯æ´å¤šç¨®æ ¼å¼ï¼Œç³»çµ±æœƒè‡ªå‹•è§£æã€‚<br>
Â  Â  Â  Â  Â  Â  <strong>æ ¼å¼1 (æ™‚é–“+æ­Œå):</strong> 00:00 intro 03:41 Baddie<br>
Â  Â  Â  Â  Â  Â  <strong>æ ¼å¼2 (æ›è¡Œåˆ†éš”):</strong> æ™‚é–“èˆ‡æ­Œåå„ä½”ä¸€è¡Œ<br>
Â  Â  Â  Â  Â  Â  <strong>æ ¼å¼3 (ç´”æ­Œå):</strong> åƒ…æ­Œååˆ—è¡¨ (å°‡è‡ªå‹•ç·¨è™Ÿ)
Â  Â  Â  Â  _ </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="songListInput" placeholder="è«‹è¼¸å…¥æ­Œå–®å…§å®¹..." class="w-full flex-1 min-h-[150px] p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition resize-y"></textarea>
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <button class="update-button flex items-center justify-center gap-2 w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-all duration-300 ease-in-out transform hover:-translate-y-0.5 active:translate-y-0 active:shadow-sm" id="updateSongListButton">
Â  Â  Â  Â  Â  <i data-lucide="refresh-cw" class="w-5 h-5"></i>
Â  Â  Â  Â  Â  æ›´æ–°æ­Œå–®
Â  Â  Â  Â  </button>
Â  Â  Â  Â  <div class="loading-spinner hidden w-8 h-8 border-4 border-gray-300 border-t-indigo-500 rounded-full animate-spin mx-auto" id="loadingSpinner"></div>
Â  Â  Â  </div>
Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="canvas-section bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-inner flex flex-col">
Â  Â  Â  Â  <div class="canvas-header flex justify-between items-center p-5 border-b border-gray-200 dark:border-gray-700">
Â  Â  Â  Â  Â  <h3 class="text-xl font-semibold flex items-center gap-2">
Â  Â  Â  Â  Â  Â  <i data-lucide="clipboard-list" class="w-5 h-5 text-indigo-500"></i>
Â  Â  Â  Â  Â  Â  æ­Œå–®é è¦½
Â  Â  Â  Â  Â  </h3>
Â  Â  Â  Â  Â  <span class="song-count bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 px-3 py-1 rounded-full text-sm font-medium" id="songCount">0 é¦–æ­Œæ›²</span>
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="canvas-container flex-1 h-96 md:h-[500px] lg:h-[600px] overflow-y-auto" id="songListContainer">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="listPlaceholder" class="flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400 p-4 text-center">
Â  Â  Â  Â  Â  Â  <i data-lucide="list-checks" class="w-16 h-16 text-gray-400 dark:text-gray-500 mb-4"></i>
Â  Â  Â  Â  Â  Â  <p class="text-lg font-medium">è«‹è¼¸å…¥æ­Œå–®å…§å®¹</p>
Â  Â  Â  Â  Â  Â  <p class="text-sm">é»æ“Šã€Œæ›´æ–°æ­Œå–®ã€å¾Œå°‡åœ¨æ­¤é¡¯ç¤ºé è¦½</p>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>

Â  Â  </div>
Â  </div>
Â Â 
Â  Â  <div class="message-box fixed bottom-6 left-1/2 -translate-x-1/2 bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-900 px-5 py-3 rounded-lg shadow-xl text-sm font-medium opacity-0 transition-all duration-300 transform translate-y-4" id="messageBox">
Â  Â  Â  </div>

Â  <script>
Â  Â  // é è¨­æ­Œå–®å…§å®¹
Â  Â  const defaultSongListString = `COCOCO
ACT LIKE THAT
V.I.P
OH!
BADASS
ALBINO
GIRL TALK
CATCH YOU
NICO soloï¼šYou&Me
AYAKO soloï¼šBet On Me
AYEON soloï¼šCruel Summer
YUAN solo ï¼šæˆ‘æ˜¯çœŸçš„å¾ˆæ„›å¾ˆæ„›ä½ 
XXIN soloï¼šSTARæ”¹ç·¨ç‰ˆï¼ˆXXINæ”¹ç·¨ï¼‰
LILI soloï¼šPOKER FACE
å˜‰è³“-SEVEN TO EIGHT
BANG BANG BANG
Gummy bear
DRIP&DROP
SO WHAT
TRIP
CHECKMATE
SOLW DOWN
1000æ¬¡ä¹Ÿä¸å¤ çš„æƒ³å¿µ
å¤©ç©ºæ²’æœ‰æ¥µé™
å®‰å£æ›²ï¼š
COCOCO feat.èˆå®¢æ˜Ÿ
å°ˆå±¬çš„å¤å¤©ï¼ˆéŸ“æ–‡ç‰ˆï¼‰
å¤¢æƒ³å¡—é´‰å†Šcolor paper`;

Â  Â  // é¡¯ç¤ºè¨Šæ¯æ¡†
Â  Â  function showMessageBox(message) {
Â  Â  Â  const messageBox = document.getElementById('messageBox');
Â  Â  Â  messageBox.innerText = message;
Â  Â  Â  messageBox.style.opacity = '1';
Â  Â  Â  messageBox.style.transform = 'translate(-50%, 0)';
Â  Â  Â Â 
Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  messageBox.style.opacity = '0';
Â  Â  Â  Â  messageBox.style.transform = 'translate(-50%, 1rem)';
Â  Â  Â  }, 2000);
Â  Â  }

Â  Â  // æ›´æ–°æ­Œæ›²æ•¸é‡é¡¯ç¤º
Â  Â  function updateSongCount(songList) {
Â  Â  Â  const songCountElement = document.getElementById('songCount');
Â  Â  Â  // è¨ˆç®—æ™‚éæ¿¾æ‰ç‰¹æ®Šæ¨™é¡Œ
Â  Â  Â  const actualSongCount = songList.filter(song => song.time !== 'â€”').length;
Â  Â  Â  songCountElement.textContent = `${actualSongCount} é¦–æ­Œæ›²`;
Â  Â  }

Â  Â  // *** é—œéµä¿®å¾©ï¼š renderSongList å‡½æ•¸ ***
Â  Â  // åƒæ•¸å¢åŠ äº† container å’Œ placeholderï¼Œç¢ºä¿å®ƒå€‘å¾ DOMContentLoaded å‚³éé€²ä¾†
Â  Â  function renderSongList(songList, container, placeholder) {
Â  Â  Â  // æ¸…ç©ºå®¹å™¨
Â  Â  Â  container.innerHTML = ''; 

Â  Â  Â  if (songList.length === 0) {
Â  Â  Â  Â  // å¦‚æœæ­Œå–®ç‚ºç©ºï¼Œ**é‡æ–°é™„åŠ ** placeholder å…ƒç´ 
Â  Â  Â  Â  if (placeholder) { 
Â  Â  Â  Â  Â  container.appendChild(placeholder);
Â  Â  Â  Â  }
Â  Â  Â  Â  updateSongCount([]); // å‚³å…¥ç©ºé™£åˆ—
Â  Â  Â  Â  return;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  // (å¦‚æœ songList.length > 0ï¼Œplaceholder ä¿æŒè¢«ç§»é™¤ç‹€æ…‹ï¼Œé€™æ˜¯å°çš„)

Â  Â  Â  const listWrapper = document.createElement('div');
Â  Â  Â  listWrapper.className = "divide-y divide-gray-200 dark:divide-gray-700";

Â  Â  Â  songList.forEach((song) => {
Â  Â  Â  Â  let iconName = 'music-2';
Â  Â  Â  Â  let iconColor = 'text-gray-500 dark:text-gray-400';
Â  Â  Â  Â  let titleColor = 'text-gray-800 dark:text-gray-200';
Â  Â  Â  Â  let timeColor = 'text-indigo-600 dark:text-indigo-400';
Â  Â  Â  Â  let timeAlignment = 'text-right';
Â  Â  Â  Â  let isTitleItem = false; 

Â  Â  Â  Â  // ç‰¹æ®Šæ¨™é¡Œæ¨£å¼
Â  Â  Â  Â  if (song.time === 'â€”') {
Â  Â  Â  Â  Â  iconName = 'star';
Â  Â  Â  Â  Â  iconColor = 'text-yellow-500';
Â  Â  Â  Â  Â  titleColor = 'text-yellow-600 dark:text-yellow-400 font-bold';
Â  Â  Â  Â  Â  timeColor = 'text-gray-400 dark:text-gray-500';
Â  Â  Â  Â  Â  timeAlignment = 'text-center';
Â  Â  Â  Â  Â  isTitleItem = true;
Â  Â  Â  Â  } 
Â  Â  Â  Â  // å…¶ä»–æ¨£å¼
Â  Â  Â  Â  else if (song.title.toLowerCase().includes('talking') || song.title.toLowerCase().includes('talk')) {
Â  Â  Â  Â  Â  iconName = 'message-circle';
Â  Â  Â  Â  Â  iconColor = 'text-purple-500';
Â  Â  Â  Â  Â  titleColor = 'text-purple-700 dark:text-purple-300 font-medium';
Â  Â  Â  Â  } else if (song.title.includes('åˆç…§') || song.title.includes('photo') || song.title.includes('å¤§åˆç…§')) {
Â  Â  Â  Â  Â  iconName = 'camera';
Â  Â  Â  Â  Â  iconColor = 'text-orange-500';
Â  Â  Â  Â  Â  titleColor = 'text-orange-700 dark:text-orange-300 font-medium';
Â  Â  Â  Â  } else if (song.title.toLowerCase().includes('intro') || song.title.toLowerCase().includes('outro')) {
Â  Â  Â  Â  Â  iconName = 'clapperboard';
Â  Â  Â  Â  Â  iconColor = 'text-blue-500';
Â  Â  Â  Â  Â  titleColor = 'text-blue-700 dark:text-blue-300 font-medium';
Â  Â  Â  Â  }

Â  Â  Â  Â  // ç‰¹æ®Šæ¨™é¡Œä¸é¡¯ç¤ºè¤‡è£½æŒ‰éˆ•
Â  Â  Â  Â  const copyButtonHTML = isTitleItem ? '' : `
Â  Â  Â  Â  Â  <buttonÂ 
Â  Â  Â  Â  Â  Â  class="copy-btn flex-shrink-0 flex items-center gap-1.5 ml-4 px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs font-medium rounded-md border border-gray-200 dark:border-gray-600 opacity-0 group-hover:opacity-100 focus:opacity-100 transition-all hover:bg-gray-200 dark:hover:bg-gray-600"
Â  Â  Â  Â  Â  Â  data-time="${song.time}"
Â  Â  Â  Â  Â  Â  data-title="${song.title}"
Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  <i data-lucide="clipboard" class="w-3.5 h-3.5 copy-icon"></i>
Â  Â  Â  Â  Â  Â  <i data-lucide="check" class="w-3.5 h-3.5 check-icon hidden text-green-500"></i>
Â  Â  Â  Â  Â  Â  <span class="copy-text">è¤‡è£½</span>
Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  `;

Â  Â  Â  Â  // é …ç›® HTML (è¨­è¨ˆå·²é‚„åŸ)
Â  Â  Â  Â  const itemHTML = `
Â  Â  Â  Â  Â  <div class="flex items-center justify-between p-3.5 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150 group">
Â  Â  Â  Â  Â  Â  <div class="flex items-center gap-3 flex-1 min-w-0">
Â  Â  Â  Â  Â  Â  Â  <span class="font-mono text-sm font-medium ${timeColor} w-12 ${timeAlignment} flex-shrink-0">${song.time}</span>
Â  Â  Â  Â  Â  Â  Â  <i data-lucide="${iconName}" class="w-4 h-4 ${iconColor} flex-shrink-0"></i>
Â  Â  Â  Â  Â  Â  Â  <span class="${titleColor} truncate" title="${song.title}">${song.title}</span>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  ${copyButtonHTML}
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  `;
Â  Â  Â  Â  listWrapper.innerHTML += itemHTML;
Â  Â  Â  });
Â  Â  Â Â 
Â  Â  Â  container.appendChild(listWrapper);
Â  Â  Â Â 
Â  Â  Â  // æ¸²æŸ“åœ–ç¤º
Â  Â  Â  lucide.createIcons();
Â  Â  Â Â 
Â  Â  Â  // æ›´æ–°æ­Œæ›²æ•¸é‡ (å‚³å…¥å®Œæ•´é™£åˆ—)
Â  Â  Â  updateSongCount(songList);
Â  Â  Â Â 
Â  Â  Â  // ç‚ºæ–°ç”¢ç”Ÿçš„æŒ‰éˆ•ç¶å®šäº‹ä»¶
Â  Â  Â  addListClickListeners();
Â  Â  }
Â  Â Â 
Â  Â  // ç¶å®šè¤‡è£½æŒ‰éˆ•äº‹ä»¶
Â  Â  function addListClickListeners() {
Â  Â  Â  document.querySelectorAll('.copy-btn').forEach(button => {
Â  Â  Â  Â  button.addEventListener('click', () => {
Â  Â  Â  Â  Â  const title = button.dataset.title;
Â  Â  Â  Â  Â  const eventDate = document.getElementById('eventDateInput').value;
Â  Â  Â  Â  Â  const artistName = document.getElementById('artistNameInput').value;
Â  Â  Â  Â  Â  const eventName = document.getElementById('eventNameInput').value;
Â  Â  Â  Â  Â  const fullText = `${eventDate} ${artistName} - ${title} @ ${eventName}`;
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  copyToClipboard(fullText);
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  const copyIcon = button.querySelector('.copy-icon');
Â  Â  Â  Â  Â  const checkIcon = button.querySelector('.check-icon');
Â  Â  Â  Â  Â  const copyText = button.querySelector('.copy-text');
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  copyIcon.classList.add('hidden');
Â  Â  Â  Â  Â  checkIcon.classList.remove('hidden');
Â  Â  Â  Â  Â  copyText.textContent = 'å·²è¤‡è£½!';
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  copyIcon.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  checkIcon.classList.add('hidden');
Â  Â  Â  Â  Â  Â  copyText.textContent = 'è¤‡è£½';
Â  Â  Â  Â  Â  }, 2000);
Â  Â  Â  Â  });
Â  Â  Â  });
Â  Â  }

Â  Â  // æ­Œå–®è§£æå‡½æ•¸ (å·²æ¸…ç†)
Â  Â  function parseSongList(inputString) {
Â  Â  Â  const parsedList = [];
Â  Â  Â  const anyTimeRegex = /\d{1,2}:\d{2}/; 
Â  Â  Â Â 
Â  Â  Â  if (!anyTimeRegex.test(inputString)) {
Â  Â  Â  Â  // æ ¼å¼ 3: ç´”æ­Œååˆ—è¡¨
Â  Â  Â  Â  const lines = inputString.split('\n')
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .map(line => line.trim())
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .filter(line => line);
Â  Â  Â  Â Â 
Â  Â  Â  Â  let songCounter = 0; 
Â  Â  Â  Â  return lines.map((line) => {
Â  Â  Â  Â  Â  const title = line.replace(/^ğŸµ\s*/, '').trim();
Â  Â  Â  Â  Â  if (title.endsWith('ï¼š') || title.endsWith(':')) {
Â  Â  Â  Â  Â  Â  return { time: 'â€”', title: title };
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  songCounter++;
Â  Â  Â  Â  Â  const songNumber = String(songCounter).padStart(2, '0');
Â  Â  Â  Â  Â  return { time: `${songNumber}.`, title: title };
Â  Â  Â  Â  });
Â  Â  Â  }

Â  Â  Â  // æ ¼å¼ 1 & 2
Â  Â  Â  const lines = inputString.split('\n').map(line => line.trim()).filter(line => line);
Â  Â  Â  const preciseTimeRegex = /^\d{1,2}:\d{2}$/; 
Â  Â  Â  const timeWithTitleRegex = /(\d{1,2}:\d{2})\s+(.+)/;

Â  Â  Â  const isNewlineFormat = lines.some(line =>Â 
Â  Â  Â  Â  preciseTimeRegex.test(line) &&Â 
Â  Â  Â  Â  lines.indexOf(line) + 1 < lines.length &&Â 
Â  Â  Â  Â  !preciseTimeRegex.test(lines[lines.indexOf(line) + 1]) &&
Â  Â  Â  Â  !timeWithTitleRegex.test(lines[lines.indexOf(line) + 1])
Â  Â  Â  );
Â  Â  Â Â 
Â  Â  Â  if (isNewlineFormat) {
Â  Â  Â  Â  // è™•ç†æ ¼å¼ 2: æ›è¡Œåˆ†éš”
Â  Â  Â  Â  for (let i = 0; i < lines.length; i++) {
Â  Â  Â  Â  Â  const line = lines[i];
Â  Â  Â  Â  Â  if (preciseTimeRegex.test(line)) {
Â  Â  Â  Â  Â  Â  const time = formatTime(line);
Â  Â  Â  Â  Â  Â  if (i + 1 < lines.length && !preciseTimeRegex.test(lines[i+1]) && !timeWithTitleRegex.test(lines[i+1])) {
Â  Â  Â  Â  Â  Â  Â  let title = lines[i + 1].replace(/^ğŸµ\s*/, '').trim();
Â  Â  Â  Â  Â  Â  Â  i++; 
Â  Â  Â  Â  Â  Â  Â  parsedList.push({ time: time, title: title });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  } else {
Â  Â  Â  Â  // è™•ç†æ ¼å¼ 1: å–®è¡Œ
Â  Â  Â  Â  const text = inputString.replace(/\n/g, ' ');
Â  Â  Â  Â  const timePattern = /(\d{1,2}:\d{2})/g;
Â  Â  Â  Â  const parts = text.split(timePattern).filter(part => part.trim() !== '');
Â  Â  Â  Â Â 
Â  Â  Â  Â  for (let i = 0; i < parts.length; i++) {
Â  Â  Â  Â  Â  if (/^\d{1,2}:\d{2}$/.test(parts[i].trim())) {
Â  Â  Â  Â  Â  Â  const time = formatTime(parts[i].trim());
Â  Â  Â  Â  Â  Â  let title = "";
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (i + 1 < parts.length && !/^\d{1,2}:\d{2}$/.test(parts[i + 1].trim())) {
Â  Â  Â  Â  Â  Â  Â  title = parts[i + 1].replace(/^ğŸµ\s*/, '').trim();
Â  Â  Â  Â  Â  Â  Â  i++; 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (title) {
Â  Â  Â  Â  Â  Â  Â  parsedList.push({ time: time, title: title });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  return parsedList;
Â  Â  }

Â  Â  // æ ¼å¼åŒ–æ™‚é–“
Â  Â  function formatTime(timeString) {
Â  Â  Â  const parts = timeString.split(':');
Â  Â  Â  if (parts.length === 2) {
Â  Â  Â  Â  const minutes = parts[0].padStart(2, '0');
Â  Â  Â  Â  const seconds = parts[1].padStart(2, '0');
Â  Â  Â  Â  return `${minutes}:${seconds}`;
Â  Â  Â  }
Â  Â  Â  return timeString;
Â  _ }

Â  Â  // è¤‡è£½åˆ°å‰ªè²¼ç°¿ (å·²æ¸…ç†)
Â  Â  async function copyToClipboard(text) {
Â  Â  Â  try {
Â  Â  Â  Â  if (navigator.clipboard && window.isSecureContext) {
Â  Â  Â  Â  Â  await navigator.clipboard.writeText(text);
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  // é™ç´šè™•ç†
Â  Â  Â  Â  Â  const tempTextArea = document.createElement('textarea');
Â  Â  Â  Â  Â  tempTextArea.value = text;
Â  Â  Â  Â  Â  tempTextArea.style.position = 'absolute';
Â  Â  Â  Â  Â  tempTextArea.style.left = '-9999px';
Â  Â  Â  Â  Â  document.body.appendChild(tempTextArea);
Â  Â  Â  Â  Â  tempTextArea.select();
Â  Â  Â  Â  Â  document.execCommand('copy');
Â  Â  Â  Â  Â  document.body.removeChild(tempTextArea);
Â  Â  Â  Â  }
Â  Â  Â  Â  showMessageBox('âœ… å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿');
Â  Â  Â  } catch (err) {
Â  Â  Â  Â  console.error('è¤‡è£½å¤±æ•—:', err);
Â  Â  Â  Â  showMessageBox('âŒ è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½');
Â  Â  Â  }
Â  Â  }

Â  Â  // *** é—œéµä¿®å¾©ï¼šæ›´æ–°å‡½æ•¸ç°½å ***
Â  Â  // åƒæ•¸å¢åŠ äº† inputElement, container, placeholder
Â  Â  function updateSongListFromInput(inputElement, container, placeholder) {
Â  Â  Â  const rawInput = inputElement.value;
Â  Â  Â  const parsedSongs = parseSongList(rawInput);
Â  Â  Â  // å°‡ container å’Œ placeholder å‚³éä¸‹å»
Â  Â  Â  renderSongList(parsedSongs, container, placeholder);
Â  Â  }
Â  Â Â 
Â  Â  // åˆå§‹åŒ–æ·±è‰²æ¨¡å¼åˆ‡æ› (å·²æ¸…ç†)
Â  Â  function initDarkMode() {
Â  Â  Â  const toggle = document.getElementById('darkModeToggle');
Â  Â  Â  const htmlEl = document.documentElement;
Â  Â  Â Â 
Â  Â  Â  // æª¢æŸ¥ç³»çµ±åå¥½
Â  Â  Â  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
Â  Â  Â  Â  htmlEl.classList.add('dark');
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  // é»æ“Šåˆ‡æ›
Â  Â  Â  if (toggle) {
Â  Â  Â  Â  toggle.addEventListener('click', () => {
Â  Â  Â  Â  Â  htmlEl.classList.toggle('dark');
Â  Â  Â  Â  });
Â  Â  Â  }
Â  Â  }

Â  Â  // *** é—œéµä¿®å¾©ï¼š DOMContentLoaded ***
Â  Â  // é é¢è¼‰å…¥å®Œæˆå¾Œåˆå§‹åŒ–
Â  Â  window.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  // 0. è©¦åœ–åˆå§‹åŒ–åœ–ç¤º (defer æœƒç¢ºä¿ lucide å·²è¼‰å…¥)
Â  Â  Â  try {
Â  Â  Â  Â  lucide.createIcons();
Â  Â  Â  } catch (e) {
Â  Â  Â  Â  console.error("Lucide icons failed to create:", e);
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  // 1. åˆå§‹åŒ–æ·±è‰²æ¨¡å¼
Â  Â  Â  initDarkMode();
Â  Â  Â Â 
Â  Â  Â  // 2. *** é—œéµï¼šåªåœ¨é€™è£¡ç²å–ä¸€æ¬¡ DOM å…ƒç´  ***
Â  Â  Â  const container = document.getElementById('songListContainer');
Â  Â  Â  const placeholder = document.getElementById('listPlaceholder');
Â  Â  Â  const songListInput = document.getElementById('songListInput');
Â  Â  Â  const updateButton = document.getElementById('updateSongListButton');

Â  Â  Â  // 3. è¼‰å…¥é è¨­æ­Œå–®
Â  Â  Â  if(songListInput && container && placeholder) {
Â  Â  Â  Â  songListInput.value = defaultSongListString;
Â  Â  Â  Â  // *** é—œéµï¼šå‚³éå…ƒç´  ***
Â  Â  Â  Â  updateSongListFromInput(songListInput, container, placeholder);
Â  Â  Â  } else {
Â  Â  Â  Â  console.error("åˆå§‹åŒ–å¤±æ•—ï¼šæ‰¾ä¸åˆ°å¿…è¦çš„ DOM å…ƒç´ ã€‚");
Â  Â  Â  }

Â  Â  Â  // 4. äº‹ä»¶ç›£è½å™¨
Â  Â  Â  if(updateButton && songListInput && container && placeholder) {
Â  Â  Â  Â  updateButton.addEventListener('click', () => {
Â  Â  Â  Â  Â  // *** é—œéµï¼šå‚³éå…ƒç´  ***
Â  Â  Â  Â  Â  updateSongListFromInput(songListInput, container, placeholder);
Â  Â  Â  Â  });
Â  Â  Â  }
Â  Â  });
Â  </script>
</body>
</html>
